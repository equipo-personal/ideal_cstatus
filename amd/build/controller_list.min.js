function confirmEnroll(userid,strs){var modal=document.getElementById("enrollModal"),confirmBtn=document.getElementById("confirmEnroll"),select=((confirmBtn=confirmBtn||document.getElementById("confirmEnroll2")).disabled=!0,confirmBtn.textContent=strs[0],document.querySelector(".select_to_cohot_certf_1")),cohort_id=(select=select||document.querySelector(".select_to_cohot_certf_2")).value,cohort_name=select.options[select.selectedIndex].text;function showMessageModal(message,success=!0){let msgModal=document.createElement("div");msgModal.style.position="fixed",msgModal.style.zIndex="9999",msgModal.style.left="0",msgModal.style.top="0",msgModal.style.width="100%",msgModal.style.height="100%",msgModal.style.background="rgba(0,0,0,0.5)",msgModal.style.display="flex",msgModal.style.justifyContent="center",msgModal.style.alignItems="center";var content=document.createElement("div"),msg=(content.style.background="#fff",content.style.padding="20px",content.style.borderRadius="6px",content.style.boxShadow="0 2px 10px rgba(0,0,0,0.3)",content.style.maxWidth="400px",content.style.textAlign="center",document.createElement("p")),message=(msg.textContent=message,msg.style.color=success?"green":"red",msg.style.marginBottom="15px",content.appendChild(msg),document.createElement("button"));message.textContent=strs[1],message.setAttribute("class","btn btn-primary"),message.style.padding="8px 12px",message.style.cursor="pointer",message.addEventListener("click",function(){document.body.removeChild(msgModal),success&&window.location.reload()}),content.appendChild(message),msgModal.appendChild(content),document.body.appendChild(msgModal)}fetch("ajax/enroll_cohort_cerf.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userid:userid,cohort_id:cohort_id})}).then(r=>r.json()).then(res=>{modal.style.display="none",res.success?showMessageModal(strs[3]+cohort_name,!0):showMessageModal(strs[4]+cohort_name,!1)}).catch(err=>{console.error(err),showMessageModal("Error 500",!1)}).finally(()=>{confirmBtn.disabled=!1,confirmBtn.textContent=strs[1]})}define(["jquery"],function($){return{init:function(){try{let lastOpened=null,contenedor=(document.querySelectorAll(".title_subarea").forEach(el=>{el.setAttribute("data-fulltext",el.textContent.trim()),el.textContent=el.textContent.trim().substring(0,4)}),document.querySelectorAll(".title_subarea").forEach(sub=>{sub.addEventListener("click",function(){if(lastOpened&&lastOpened!==this){let toHide=lastOpened.nextElementSibling;for(;toHide&&!toHide.classList.contains("title_subarea")&&!toHide.classList.contains("title_area");)toHide.classList.contains("competency")&&(toHide.style.display="none"),toHide=toHide.nextElementSibling;lastOpened.textContent=lastOpened.getAttribute("data-fulltext").substring(0,4)}let next=this.nextElementSibling,isOpening=!1;for(;next&&!next.classList.contains("title_subarea")&&!next.classList.contains("title_area");){var shouldShow;next.classList.contains("competency")&&(shouldShow="none"===next.style.display||""===next.style.display,next.style.display=shouldShow?"table-cell":"none",shouldShow)&&(isOpening=!0),next=next.nextElementSibling}lastOpened=isOpening?(this.textContent=this.getAttribute("data-fulltext"),this):(this.textContent=this.getAttribute("data-fulltext").substring(0,4),null)})}),document.querySelector(".certificate_container")),observer=new ResizeObserver(()=>{contenedor.style.flexWrap="wrap"});document.querySelectorAll(".certificate_container table").forEach(table=>{observer.observe(table)})}catch(err){console.error("Error inicialización script: ",err),alert("Se ha producido un error al cargar la vista de competencias. Por favor, inténtelo de nuevo más tarde.")}}}});